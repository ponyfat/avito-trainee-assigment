# Техническое задание на BackEnd стажера, Avito

## Задача
https://github.com/avito-tech/mi-backend-trainee-assignment

## Детали решения
* Запись в датабазе {"_id" : ..., "region" : ..., "query" : ..., "counts" : [{"timestamp" : ..., "count" : ...}], "top_advertisements" : [...]}
* Чтобы получить новые counts, раз в определенное время отдельный поток (из контейнера scrapper) перебирает и обновляет всю датабазу. Интервал хранится в константе QUESTIONING_INTERVAL (изначально равна 3 минутам). Я решила сделать именно так, потому что тогда для разных id собираются примерно одинаковые timestamp. В такой реализации может получиться что у добавленной в датабазу пары нет ни одного timestamp (добавилась между двумя сборами, второй еще не произошел).
*  Top 5 объявлений в порядке "по умолчанию" получаются сразу по добавлению (region, query). Запрос на получение top 5 объявлений "/top5".

